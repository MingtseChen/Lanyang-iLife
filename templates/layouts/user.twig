<!doctype html>
<html lang="en" style="height: auto;">

<head>
    <title>{% block title %}{% endblock %}</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    {#<!-- Bootstrap CSS -->#}
    {#<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css"#}
    {#integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">#}

    <!-- FontAwesome CSS -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css"
          integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <!-- DataTables -->
    <link rel="stylesheet" href="/plugins/datatables/dataTables.bootstrap4.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/css/adminlte.min.css">
    <!-- Google Font: Source Sans Pro -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
    <!-- AnimatedCSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.6.2/animate.css" rel="stylesheet">
    <!-- flatpickr dark -->
    <link rel="stylesheet" type="text/css" href="https://npmcdn.com/flatpickr/dist/themes/material_blue.css">
    <!-- smartwizard -->
    <link href="/plugins/smartwizard/css/smart_wizard.css" rel="stylesheet" type="text/css"/>
    <link href="/plugins/smartwizard/css/smart_wizard_theme_dots.css" rel="stylesheet" type="text/css"/>


</head>

<body class="hold-transition sidebar-mini">
<div class="wrapper">

    {#Navbar#}
    {% include("partials/user.nav.twig") %}

    {#Main Sidebar Container#}
    {#{% include("partials/admin.sidebar.twig") %}#}

    {#Content Wrapper. Contains page content#}
    <!-- Content Wrapper. Contains page content -->
    <div class="container">
        <!-- Content Header (Page header) -->
        <div class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1>{% block page_title %}{% endblock %}</h1>
                    </div>
                </div>
            </div><!-- /.container-fluid -->
        </div>

        <!-- Main content -->
        <div class="content">
            {#<div class="alert alert-warning alert-dismissible fade show" role="alert">#}
            {#{% for msg in flash('error') %}#}
            {#{{ msg }}#}
            {#{% endfor %}#}
            {#<button type="button" class="close" data-dismiss="alert" aria-label="Close">#}
            {#<span aria-hidden="true">&times;</span>#}
            {#</button>#}
            {#</div>#}

            <div class="container">
                {% block content %}{% endblock %}
            </div>
        </div>
        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->

    {# disable right sidebar #}
    {#<!-- Control Sidebar -->#}
    {#<aside class="control-sidebar control-sidebar-dark">#}
    {#<!-- Control sidebar content goes here -->#}
    {#<div class="p-3">#}
    {#<h5>Title</h5>#}
    {#<p>Sidebar content</p>#}
    {#</div>#}
    {#</aside>#}
    {#<!-- /.control-sidebar -->#}

    {#Main Footer#}
    {#{% include("partials/admin.footer.twig") %}#}
</div>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js"
        integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em"
        crossorigin="anonymous"></script>
<!-- AdminLTE App -->
<script src="/js/adminlte.min.js"></script>
<!-- Bootstrap-NotifyJS-->
<script src="/js/bootstrap-notify.js"></script>
<!-- flatpickrJS-->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<!-- jquery validate-->
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.js"></script>
<!-- smartWizard-->
<script type="text/javascript" src="/plugins/smartwizard/js/jquery.smartWizard.min.js"></script>
<!--bootstrap-validate-->
<script type="text/javascript" src="/js/bootstrap-validate.js"></script>

<script>
    // bootstrapValidate('#input', 'email:Enter a valid email address');

    $('#reservation').flatpickr({
        minDate: 'today',
        defaultDate: 'today'
    });

    {% for error in flash('error') %}
    $.notify({
        // options
        message: '{{ error }}'
    }, {
        // settings
        type: 'danger'
    });
    {% endfor %}
    {% for info in flash('info') %}
    $.notify({
        // options
        message: '{{ info }}'
    }, {
        // settings
        type: 'info'
    });
    {% endfor %}
    {% for info in flash('success') %}
    $.notify({
        // options
        message: '{{ info }}'
    }, {
        // settings
        type: 'success'
    });
    {% endfor %}

    $(document).ready(function () {

        $('input:radio[name="schedule"]').change(function () {
            var selectVal = $('input[name=schedule]:checked').val();
            $("[id=confirm]").not(".select-id-" + selectVal).hide();
        });

        $("#smartwizard").on("showStep", function (e, anchorObject, stepNumber, stepDirection, stepPosition) {
            //alert("You are on step "+stepNumber+" now");
            if (stepPosition === 'final') {
                $(".btn-finish").show();
                var name = $('#name').val();
                var dept = $('#dept').val();
                var room = $('#room').val();
                $('#show-name').text(name);
                $('#show-dept').text(dept);
                $('#show-room').text(room);

            } else {
                $(".btn-finish").hide();
            }
        });
        // Toolbar extra buttons
        var btnFinish = $('<button></button>').text('Finish')
            .addClass('btn btn-info btn-finish')
            .on('click', function () {
                $("#bus").submit();
            });

        // Smart Wizard
        $('#smartwizard').smartWizard({
            selected: 0,
            theme: 'dots',
            transitionEffect: 'fade',
            showStepURLhash: false,
            transitionSpeed: 500,
            anchorSettings: {
                anchorClickable: true, // Enable/Disable anchor navigation
                enableAllAnchors: false, // Activates all anchors clickable all times
                markDoneStep: true, // add done css
                enableAnchorOnDoneStep: true // Enable/Disable the done steps navigation
            },
            toolbarSettings: {
                toolbarPosition: 'bottom',
                toolbarExtraButtons: [btnFinish]
            },
            ajaxSettings: {}

        });
    });
</script>
</body>
</html>
